\newcounter{oldSectionCounter2}
\newcounter{oldPageCounter2}

\setcounter{oldSectionCounter2}{\value{section}}
\setcounter{oldPageCounter2}{\value{page}}

% Set the current value of section to 0
\setcounter{section}{0}

\title{
	Improving Diagnostic Data Gathering for Problematic System Tests:\\
	\itshape{Project Plan}
}
\author{
	Morrison Cole\\
	\texttt{zcabg19@ucl.ac.uk}
	\and
	Supervisor: Dr Earl Barr\\
	\texttt{e.barr@ucl.ac.uk}
	\and
	External Supervisor: Colin Vipurs\\
	\texttt{colin.vipurs@shazam.com}
}
\date{November 13, 2013}

\maketitle

\section{Aims}

\begin{enumerate}
	\item{
		To detect any flaky\footnote{A \flaky test is one that fails intermittently for no obvious reason.} tests present in a test suite, by storing and analysing the results of historical builds on a continuous integration server, so that they may be brought to the attention of developers at Shazam to encourage the upkeep of a stable build.
	}
	\item{
		To automatically, for some non-trivial subset of the \flaky tests in a test suite, extract information that speeds their resolution, either by fixing the test case(s) or the tested program, for a reasonable cost.
	}
\end{enumerate}

\section{Objectives}

\begin{enumerate}
	\item{
		Manually study the \flaky tests present at Shazam. Understand how these tests fit into the bigger picture --- consider developer workflow, number of tests, type of tests, code coverage, and ratio of black to white box testing. Find out if developers consider these tests to be a problem themselves.
	}
	\item{
		Develop software to:
		\begin{enumerate}
			\item{
				Pre-process JUnit-style test results from a build, so that they may be persisted in a database for analysis.
			}
			\item{
				Determine, over a set test runs, which tests are \flaky. Attempt to detect trends --- common failure causes, etc. --- using statistical tools such as R and Weka.
			}
			\item{
				Produce a customisable visual representation of the detected \flaky tests for each build. Attach any relevant diagnostic information to each data point.
			}
		\end{enumerate}
	}
	\item{
		Review published research in the problem space â€“ namely, studies aiming to improve diagnostic information from runtime crashes/errors. Techniques and ideas developed in these projects will no doubt be useful to us.
	}
	\item{
		Develop instrumentation (using a tool such as Java MOP or ASM) to automatically gather information that will be useful for developers investigating a particular test with the aim of making it stable.
	}
\end{enumerate}

\section{Deliverables}

\begin{enumerate}
	\item{
		An overview of the state of the test suites across the teams at Shazam. As well as this specific case, the industry as a whole should be considered. The impact that \flaky tests have upon the productivity of software teams should be discussed.
	}
	\item{
		A tested, documented Jenkins\footnote{Jenkins is an open source continuous integration tool written in Java. It has a rich library of existing plugins and is used at Shazam, as well as at countless other commercial software companies.} plugin that fulfils objective 2, customized to display the data that Shazam wants to see. This will be deployed at Shazam as early in the project as possible. This will be submitted publicly to the Jenkins project in the hope that it is accepted to the official list of plugins.
	}
	\item{
		Literature survey describing current research in the space detailed in objective 3. Cover any non-trivial techniques or tools that we use that may be difficult for an unfamiliar reader to grasp.
	}
	\item{
		Develop a technique to instrument the \flaky tests whilst avoiding altering the runtime execution as much as possible. This could be done (for example) by selecting random samples of the complete instrumentation, running the tests in question multiple times, and reconstructing the complete instrumentation from the set of runs.
	}
\end{enumerate}

\section{Work Plan}

\begin{center}
    \begin{tabular}{ | l | p{6cm} |}
    \hline
    Period & Work \% \\ \hline
    Project start to end October (4 weeks) & Literature search and review. Define IP terms with Shazam. \\ \hline
    Mid-October to mid-November (4 weeks) & Literature review continued. Software and tools researched and familiarised. Access to Shazam's codebase gained. \\ \hline
    November (4 weeks) & Jenkins plugin started. Literature review continued. \\ \hline
    End-November to mid-January (8 weeks) & Jenkins plugin finished and deployed at Shazam. Work on \flaky test instrumentation started. Interim report written. \\ \hline
    Mid-January to mid-February (4 weeks) & Iterate on Jenkins plugin based on Shazam's feedback (if necessary). Continue work on \flaky test instrumentation. \\ \hline
    Mid-February to end of March (6 weeks) & Jenkins plugin submitted to the Jenkins project. \flaky test instrumentation complete. Final report. \\ \hline
    \end{tabular}
\end{center}

\newpage

% Restore the old value of the section counter
\setcounter{section}{\value{oldSectionCounter2}}
\setcounter{page}{\value{oldPageCounter2}}